{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import FactCheckIcon from'@mui/icons-material/FactCheck';import{IconButton}from'@mui/material';import{Link}from'react-router-dom';import LogoutIcon from'@mui/icons-material/Logout';import Logout from'@mui/icons-material/Logout';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const[user,setUser]=useState(null);const fetchUserDetails=async()=>{const token=localStorage.getItem('token');console.log(token);if(!token){console.error('No authentication token found');return;}try{const response=await axios.get('http://localhost:5000/api/user',{headers:{'Authorization':\"Bearer \".concat(token)}});console.log(\"cc\",response);setUser(response.data);}catch(error){console.error('Error fetching user details:',error);}};useEffect(()=>{fetchUserDetails();},[]);const handleLogout=()=>{// Perform logout logic \nlocalStorage.removeItem('token');setUser(null);window.location.href='/';};return/*#__PURE__*/_jsxs(\"header\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',backgroundColor:\"lightgray\",height:\"50px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(Link,{to:\"/calendar\",children:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(FactCheckIcon,{})})})}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',marginRight:'10px'},children:user.username}),/*#__PURE__*/_jsx(Logout,{onClick:handleLogout})]}):/*#__PURE__*/_jsx(\"div\",{className:\"login-links\"})]});}export default Header;","map":{"version":3,"names":["React","useState","useEffect","axios","FactCheckIcon","IconButton","Link","LogoutIcon","Logout","jsx","_jsx","jsxs","_jsxs","Header","user","setUser","fetchUserDetails","token","localStorage","getItem","console","log","error","response","get","headers","concat","data","handleLogout","removeItem","window","location","href","style","display","justifyContent","alignItems","backgroundColor","height","children","className","to","fontWeight","marginRight","username","onClick"],"sources":["D:/ass/frontend/src/component/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport FactCheckIcon from '@mui/icons-material/FactCheck';\r\nimport { IconButton } from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport Logout from '@mui/icons-material/Logout';\r\n\r\nfunction Header() {\r\n  const [user, setUser] = useState(null);\r\n\r\n\r\n    const fetchUserDetails = async () => {\r\n      \r\n        const token = localStorage.getItem('token');\r\n        console.log(token);\r\n        if (!token) {\r\n            console.error('No authentication token found');\r\n            return;\r\n        }\r\n        try {\r\n        \r\n        const response = await axios.get('http://localhost:5000/api/user', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        console.log(\"cc\",response);\r\n        setUser(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching user details:', error);\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n\r\n    fetchUserDetails();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    // Perform logout logic \r\n    localStorage.removeItem('token');\r\n    setUser(null);\r\n    window.location.href = '/'; \r\n    \r\n  \r\n  };\r\n\r\n  return (\r\n    <header style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' ,backgroundColor:\"lightgray\", height:\"50px\"}}>\r\n      <div className=\"logo\">\r\n      <Link to=\"/calendar\"> \r\n        <IconButton>\r\n        <FactCheckIcon/>\r\n\r\n        </IconButton>\r\n        </Link>\r\n        \r\n        </div>\r\n      {user ? (\r\n        <div className=\"user-info\" style={{ display: 'flex', alignItems: 'center' }}>\r\n            \r\n          <span style={{ fontWeight: 'bold', marginRight: '10px' }}>{user.username}</span>\r\n         \r\n          \r\n        <Logout onClick={handleLogout} />\r\n\r\n        \r\n       \r\n        </div>\r\n      ) : (\r\n        <div className=\"login-links\">\r\n          \r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,+BAA+B,CACzD,OAASC,UAAU,KAAQ,eAAe,CAC1C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAGpC,KAAM,CAAAe,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CAEjC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC,CAClB,GAAI,CAACA,KAAK,CAAE,CACRG,OAAO,CAACE,KAAK,CAAC,+BAA+B,CAAC,CAC9C,OACJ,CACA,GAAI,CAEJ,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,CAAC,gCAAgC,CAAE,CACjEC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYT,KAAK,CAClC,CACF,CAAC,CAAC,CACFG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACE,QAAQ,CAAC,CAC1BR,OAAO,CAACQ,QAAQ,CAACI,IAAI,CAAC,CACxB,CAAE,MAAOL,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAEDpB,SAAS,CAAC,IAAM,CAEhBc,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAY,YAAY,CAAGA,CAAA,GAAM,CACzB;AACAV,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC,CAChCd,OAAO,CAAC,IAAI,CAAC,CACbe,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAG5B,CAAC,CAED,mBACEpB,KAAA,WAAQqB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,eAAe,CAAC,WAAW,CAAEC,MAAM,CAAC,MAAM,CAAE,CAAAC,QAAA,eACnI7B,IAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAD,QAAA,cACrB7B,IAAA,CAACJ,IAAI,EAACmC,EAAE,CAAC,WAAW,CAAAF,QAAA,cAClB7B,IAAA,CAACL,UAAU,EAAAkC,QAAA,cACX7B,IAAA,CAACN,aAAa,GAAC,CAAC,CAEJ,CAAC,CACP,CAAC,CAEF,CAAC,CACPU,IAAI,cACHF,KAAA,QAAK4B,SAAS,CAAC,WAAW,CAACP,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAS,CAAE,CAAAG,QAAA,eAE1E7B,IAAA,SAAMuB,KAAK,CAAE,CAAES,UAAU,CAAE,MAAM,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAEzB,IAAI,CAAC8B,QAAQ,CAAO,CAAC,cAGlFlC,IAAA,CAACF,MAAM,EAACqC,OAAO,CAAEjB,YAAa,CAAE,CAAC,EAI5B,CAAC,cAENlB,IAAA,QAAK8B,SAAS,CAAC,aAAa,CAEvB,CACN,EACK,CAAC,CAEb,CAEA,cAAe,CAAA3B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}